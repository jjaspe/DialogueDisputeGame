TODO
- Handle winning
- Continue the switch in getMessageFromConnection to deal with all arguments